<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <title>견적 테스트</title>
    <!-- Bootstrap core CSS     -->
    <link href="/css/bootstrap.css" rel="stylesheet" />
</head>
<body>
<form id="frm" name="frm" method="post">
    <div><input type="hidden" id="serviceNo" name="serviceNo" value="APP170109ASS"/></div>
</form>
   <div style="margin: 0 auto; width:100%; text-align: center;">
        <header>
            견적테스트 화면입니다.
        </header>
       <div>
            <div>
                <div>기존 서비스</div>
                <div style="margin: 0 auto; width:50%; text-align: center;">
                    <table width="100px"  border="1">
                        <tr>
                            <th>payno</th>
                            <th>pno</th>
                            <th>pname</th>
                            <th>payprice</th>
                            <th>fromdt</th>
                            <th>todt</th>
                            <th>usemonthcnt</th>
                            <th>optusecnt</th>
                            <th>opt1useyn</th>
                            <th>opt2useyn</th>
                            <th>opt3useyn</th>
                            <th>opt4useyn</th>
                            <th>opt5useyn</th>
                        </tr>
<%
    if(list.length > 0) {
        list.forEach(function(item, index) {
%>
                        <tr>
                            <td><%=item.payNo%></td>
                            <td><%=item.pNo%></td>
                            <td><%=item.pName%></td>
                            <td><%=item.payPrice%></td>
                            <td><%=item.fromDt%></td>
                            <td><%=item.toDt%></td>
                            <td><%=item.useMonthCnt%></td>
                            <td><%=item.optCnt%></td>
                            <td><%=item.opt1UseYn%></td>
                            <td><%=item.opt2UseYn%></td>
                            <td><%=item.opt3UseYn%></td>
                            <td><%=item.opt4UseYn%></td>
                            <td><%=item.opt5UseYn%></td>
                        </tr>
<%
        });
    } else {
%>
                        <tr>
                            <td colspan="14">No DATA</td>
                        </tr>
<%
    }
%>
                    </table>
                </div>
            </div>
           <form id="frmx" name="frmx" method="post">
           <div style="padding: 50px;">
               <div><b>기본 서비스 저장.</b></div>
               <div>
                결제번호 : <input type="text" id="payNo" name="payNo" value="90"/>&nbsp;고객번호 : <input type="text" id="cNo" name="cNo" value="100041"/><br/>
                상품번호 : <input type="text" id="pNo" name="pNo" value="APP170109ASS"/>&nbsp;상품명 : <input type="text" id="pName" name="pName" value="Assist Pro"/><br/>
                상품가격 : <input type="text" id="pPrice" name="pPrice" value="100000"/>&nbsp;시작일 : <input type="text" id="fromDt" name="fromDt" value="2017-05-01"/><br/>
                완료일 : <input type="text" id="toDt" name="toDt" value="2018-06-02"/>&nbsp;결제날짜단위 (월,년) : <input type="text" id="payDateType" name="payDateType" value="M"/><br/>
                사용월수 : <input type="text" id="useMonthCnt" name="useMonthCnt" value="1"/>&nbsp;옵션사용갯수 : <input type="text" id="optUseCnt" name="optUseCnt" value="0"/><br/>
                옵션1사용여부 : <input type="text" id="opt1UseYn" name="opt1UseYn" value="N"/>&nbsp;옵션2사용여부 : <input type="text" id="opt2UseYn" name="opt2UseYn" value="N"/><br/>
                옵션3사용여부 : <input type="text" id="opt3UseYn" name="opt3UseYn" value="N"/>&nbsp;옵션4사용여부 : <input type="text" id="opt4UseYn" name="opt4UseYn" value="N"/><br/>
                옵션5사용여부 : <input type="text" id="opt5UseYn" name="opt5UseYn" value="N"/>&nbsp;결제가격 : <input type="text" id="payPrice" name="payPrice" value="100000"/><br/>
                결제방법 : <input type="text" id="payMethod" name="payMethod" value="CAR"/>&nbsp;결제일 : <input type="text" id="payDate" name="payDate" value="2017-05-01"/><br/>
                결제결과 : <input type="text" id="payResult" name="payResult" value="wait"/>&nbsp;유효기간여부 : <input type="text" id="expireYn" name="expireYn" value="N"/><br/>
               </div>
               <div><input type="button" id="save1Btn" name="save1Btn" value="저장"/>&nbsp;<input type="button" id="del1Btn" name="del1Btn" value="삭제"/></div>
           </div>
               <div style="padding: 50px;">
                   <div><b>옵션 서비스 저장.</b></div>
                   <div>
                       결제번호 : <input type="text" id="payNo" name="payNo" value="90"/>&nbsp;상품번호 : <input type="text" id="pNo" name="pNo" value="100041"/><br/>
                       옵션번호 : <input type="text" id="optNo" name="optNo" value="opt1"/>&nbsp;옵션명 : <input type="text" id="optName" name="optName" value=""/><br/>
                       옵션가격 : <input type="text" id="optPrice" name="optPrice" value="50000"/>&nbsp;옵션기간 : <input type="text" id="optGigan" name="optGigan" value="1"/><br/>
                       옵션기간1 : <input type="text" id="optFrom" name="optFrom" value="2017-06-01"/>&nbsp;옵션기간2 : <input type="text" id="optTo" name="optTo" value="M"/><br/>
                       옵션가격 : <input type="text" id="optPayPrice" name="optPayPrice" value="1"/>&nbsp;옵션결제방법 : <input type="text" id="optPayMethod" name="optPayMethod" value="CAR"/><br/>
                       옵션결제일 : <input type="text" id="optPayDate" name="optPayDate" value="N"/>&nbsp;옵션결제결과 : <input type="text" id="optPayResult" name="optPayResult" value="wait"/><br/>
                   </div>
                   <div><input type="button" id="save2Btn" name="save2Btn" value="저장"/>&nbsp;<input type="button" id="del2Btn" name="del2Btn" value="삭제"/></div>
               </div>
           </form>
           <form id="frm1" name="frm1" method="post">
               <div><b>기본 서비스 신청시</b></div>
           <div>
               <div>기간:<input type="text" id="useGiganMonth" name="useGiganMonth" value="1"/></div>
               <div>서비스 가격 : <input type="text" id="servicePrice" name="servicePrice" value="100000"/></div>
               <div>옵션Y/N:<input type="text" id="optionYn" name="optionYn" value="N" readonly/></div>
               <div>옵션갯수:<input type="text" id="optionCnt" name="optionCnt" value="0" readonly/></div>
               <div>옵션타입:<input type="text" id="optionType" name="optionType" value="new" readonly/></div>
               <div>옵션체크1Y/N:<input type="text" id="option1CheckYn" name="option1CheckYn" value="N" readonly/></div>
               <div>옵션체크2Y/N:<input type="text" id="option2CheckYn" name="option2CheckYn" value="N" readonly/></div>
               <div>옵션체크3Y/N:<input type="text" id="option3CheckYn" name="option3CheckYn" value="N" readonly/></div>
               <div>옵션체크4Y/N:<input type="text" id="option4CheckYn" name="option4CheckYn" value="N" readonly/></div>
               <div>옵션체크5Y/N:<input type="text" id="option5CheckYn" name="option5CheckYn" value="N" readonly/></div>
               <div>옵션1NO:<input type="text" id="option1No" name="option1No" value=""/></div>
               <div>옵션2NO:<input type="text" id="option2No" name="option2No" value=""/></div>
               <div>옵션3NO:<input type="text" id="option3No" name="option3No" value=""/></div>
               <div>옵션4NO:<input type="text" id="option4No" name="option4No" value=""/></div>
               <div>옵션1 가격:<input type="text" id="option1Price" name="option1Price" value=""/></div>
               <div>옵션2 가격:<input type="text" id="option2Price" name="option2Price" value=""/></div>
               <div>옵션3 가격:<input type="text" id="option3Price" name="option3Price" value=""/></div>
               <div>옵션4 가격:<input type="text" id="option4Price" name="option4Price" value=""/></div>
               <div>옵션5 가격:<input type="text" id="option5Price" name="option5Price" value=""/></div>
               <div><input type="button" id="sbBtn1" name="sbBtn1" value="전송"/></div>
           </div>
           </form>
           <form id="frm1" name="frm1" method="post">
               <div><b>옵션 추가시.</b></div>
               <div>
                   <div>기간:<input type="text" id="useGiganMonth" name="useGiganMonth" value="1"/></div>
                   <div>서비스 가격 : <input type="text" id="servicePrice" name="servicePrice" value=""/></div>
                   <div>옵션Y/N:<input type="text" id="optionYn" name="optionYn" value="Y" readonly/></div>
                   <div>옵션갯수:<input type="text" id="optionCnt" name="optionCnt" value="1" readonly/></div>
                   <div>옵션타입:<input type="text" id="optionType" name="optionType" value="plus" readonly/></div>
                   <div>옵션체크1Y/N:<input type="text" id="option1CheckYn" name="option1CheckYn" value="Y" readonly/></div>
                   <div>옵션체크2Y/N:<input type="text" id="option2CheckYn" name="option2CheckYn" value="N" readonly/></div>
                   <div>옵션체크3Y/N:<input type="text" id="option3CheckYn" name="option3CheckYn" value="N" readonly/></div>
                   <div>옵션체크4Y/N:<input type="text" id="option4CheckYn" name="option4CheckYn" value="N" readonly/></div>
                   <div>옵션체크5Y/N:<input type="text" id="option5CheckYn" name="option5CheckYn" value="N" readonly/></div>
                   <div>옵션1NO:<input type="text" id="option1No" name="option1No" value="opt"/></div>
                   <div>옵션2NO:<input type="text" id="option2No" name="option2No" value=""/></div>
                   <div>옵션3NO:<input type="text" id="option3No" name="option3No" value=""/></div>
                   <div>옵션4NO:<input type="text" id="option4No" name="option4No" value=""/></div>
                   <div>옵션5NO:<input type="text" id="option5No" name="option5No" value=""/></div>
                   <div>옵션1 가격:<input type="text" id="option1Price" name="option1Price" value=""/></div>
                   <div>옵션2 가격:<input type="text" id="option2Price" name="option2Price" value=""/></div>
                   <div>옵션3 가격:<input type="text" id="option3Price" name="option3Price" value=""/></div>
                   <div>옵션4 가격:<input type="text" id="option4Price" name="option4Price" value=""/></div>
                   <div>옵션5 가격:<input type="text" id="option5Price" name="option5Price" value=""/></div>
                   <div><input type="button" id="sbBtn2" name="sbBtn2" value="전송"/></div>
               </div>
           </form>
           <form id="frm2" name="frm2" method="post">
           <div><b>신규 옵션 추가시</b></div>
           <div>
               <div>기간:<input type="text" id="useGiganMonth" name="useGiganMonth" value="1"/></div>
               <div>서비스 가격 : <input type="text" id="servicePrice" name="servicePrice" value=""/></div>
               <div>옵션Y/N:<input type="text" id="optionYn" name="optionYn" value="Y" readonly/></div>
               <div>옵션갯수:<input type="text" id="optionCnt" name="optionCnt" value="1" readonly/></div>
               <div>옵션타입:<input type="text" id="optionType" name="optionType" value="new" readonly/></div>
               <div>옵션체크1Y/N:<input type="text" id="option1CheckYn" name="option1CheckYn" value="Y" readonly/></div>
               <div>옵션체크2Y/N:<input type="text" id="option2CheckYn" name="option2CheckYn" value="N" readonly/></div>
               <div>옵션체크3Y/N:<input type="text" id="option3CheckYn" name="option3CheckYn" value="N" readonly/></div>
               <div>옵션체크4Y/N:<input type="text" id="option4CheckYn" name="option4CheckYn" value="N" readonly/></div>
               <div>옵션체크5Y/N:<input type="text" id="option5CheckYn" name="option5CheckYn" value="N" readonly/></div>
               <div>옵션1NO:<input type="text" id="option1No" name="option1No" value="opt1"/></div>
               <div>옵션2NO:<input type="text" id="option2No" name="option2No" value=""/></div>
               <div>옵션3NO:<input type="text" id="option3No" name="option3No" value=""/></div>
               <div>옵션4NO:<input type="text" id="option4No" name="option4No" value=""/></div>
               <div>옵션5NO:<input type="text" id="option5No" name="option5No" value=""/></div>
               <div>옵션1 가격:<input type="text" id="option1Price" name="option1Price" value=""/></div>
               <div>옵션2 가격:<input type="text" id="option2Price" name="option2Price" value=""/></div>
               <div>옵션3 가격:<input type="text" id="option3Price" name="option3Price" value=""/></div>
               <div>옵션4 가격:<input type="text" id="option4Price" name="option4Price" value=""/></div>
               <div>옵션5 가격:<input type="text" id="option5Price" name="option5Price" value=""/></div>
               <div><input type="button" id="sbBtn3" name="sbBtn3" value="전송"/></div>
           </div>
           </form>
           <form id="frm3" name="frm3" method="post">
               <div><b>기간 (신규)</b></div>
               <div>
                   <div>기간:<input type="text" id="useGiganMonth" name="useGiganMonth" value="12"/></div>
                   <div>서비스 가격 : <input type="text" id="servicePrice" name="servicePrice" value=""/></div>
                   <div>옵션Y/N:<input type="text" id="optionYn" name="optionYn" value="Y" readonly/></div>
                   <div>옵션갯수:<input type="text" id="optionCnt" name="optionCnt" value="2" readonly/></div>
                   <div>옵션타입:<input type="text" id="optionType" name="optionType" value="new" readonly/></div>
                   <div>옵션체크1Y/N:<input type="text" id="option1CheckYn" name="option1CheckYn" value="Y" readonly/></div>
                   <div>옵션체크2Y/N:<input type="text" id="option2CheckYn" name="option2CheckYn" value="Y" readonly/></div>
                   <div>옵션체크3Y/N:<input type="text" id="option3CheckYn" name="option3CheckYn" value="N" readonly/></div>
                   <div>옵션체크4Y/N:<input type="text" id="option4CheckYn" name="option4CheckYn" value="N" readonly/></div>
                   <div>옵션체크5Y/N:<input type="text" id="option5CheckYn" name="option5CheckYn" value="N" readonly/></div>
                   <div>옵션1NO:<input type="text" id="option1No" name="option1No" value="opt1"/></div>
                   <div>옵션2NO:<input type="text" id="option2No" name="option2No" value="opt2"/></div>
                   <div>옵션3NO:<input type="text" id="option3No" name="option3No" value=""/></div>
                   <div>옵션4NO:<input type="text" id="option4No" name="option4No" value=""/></div>
                   <div>옵션5NO:<input type="text" id="option5No" name="option5No" value=""/></div>
                   <div>옵션1 가격:<input type="text" id="option1Price" name="option1Price" value=""/></div>
                   <div>옵션2 가격:<input type="text" id="option2Price" name="option2Price" value=""/></div>
                   <div>옵션3 가격:<input type="text" id="option3Price" name="option3Price" value=""/></div>
                   <div>옵션4 가격:<input type="text" id="option4Price" name="option4Price" value=""/></div>
                   <div>옵션5 가격:<input type="text" id="option5Price" name="option5Price" value=""/></div>
                   <div><input type="button" id="sbBtn4" name="sbBtn4" value="전송"/></div>
               </div>
           </form>
           <form id="frm4" name="frm4" method="post">
               <div><b>풀 기간 (신규)</b></div>
               <div>
                   <div>기간:<input type="text" id="useGiganMonth" name="useGiganMonth" value="12"/></div>
                   <div>서비스 가격 : <input type="text" id="servicePrice" name="servicePrice" value=""/></div>
                   <div>옵션Y/N:<input type="text" id="optionYn" name="optionYn" value="Y" readonly/></div>
                   <div>옵션갯수:<input type="text" id="optionCnt" name="optionCnt" value="3" readonly/></div>
                   <div>옵션타입:<input type="text" id="optionType" name="optionType" value="new" readonly/></div>
                   <div>옵션체크1Y/N:<input type="text" id="option1CheckYn" name="option1CheckYn" value="Y" readonly/></div>
                   <div>옵션체크2Y/N:<input type="text" id="option2CheckYn" name="option2CheckYn" value="Y" readonly/></div>
                   <div>옵션체크3Y/N:<input type="text" id="option3CheckYn" name="option3CheckYn" value="Y" readonly/></div>
                   <div>옵션체크4Y/N:<input type="text" id="option4CheckYn" name="option4CheckYn" value="N" readonly/></div>
                   <div>옵션체크5Y/N:<input type="text" id="option5CheckYn" name="option5CheckYn" value="N" readonly/></div>
                   <div>옵션1NO:<input type="text" id="option1No" name="option1No" value="opt1"/></div>
                   <div>옵션2NO:<input type="text" id="option2No" name="option2No" value="opt2"/></div>
                   <div>옵션3NO:<input type="text" id="option3No" name="option3No" value="opt3"/></div>
                   <div>옵션4NO:<input type="text" id="option4No" name="option4No" value=""/></div>
                   <div>옵션5NO:<input type="text" id="option5No" name="option5No" value=""/></div>
                   <div>옵션1 가격:<input type="text" id="option1Price" name="option1Price" value=""/></div>
                   <div>옵션2 가격:<input type="text" id="option2Price" name="option2Price" value=""/></div>
                   <div>옵션3 가격:<input type="text" id="option3Price" name="option3Price" value=""/></div>
                   <div>옵션4 가격:<input type="text" id="option4Price" name="option4Price" value=""/></div>
                   <div>옵션5 가격:<input type="text" id="option5Price" name="option5Price" value=""/></div>
                   <div><input type="button" id="sbBtn5" name="sbBtn5" value="전송"/></div>
               </div>
           </form>
       </div>
       <div><b>결과</b></div>
       <div id="resultDiv">
           <ul></ul>
       </div>
       <div id="totalResultDiv">
           <ul>
           </ul>
       </div>
       <footer>
           테스트입니다.
       </footer>
   </div>
   <!--   Core JS Files   -->
   <script src="/js/jquery-1.11.3.min.js" type="text/javascript"></script>
   <script src="/js/bootstrap.min.js" type="text/javascript"></script>
    <!-- javascript -->
    <script type="text/javascript">
        $(function() {

            $("#sbBtn1").on("click", function(e) {
                e.preventDefault();
                var addHTML = "";

                var dataVals = {
                    'serviceNo' : $.trim($("form#frm1").find("[id='serviceNo']").val()),
                    'servicePrice' : $.trim($("form#frm1").find("[id='useGiganMonth']").val()),
                    'useGiganMonth' : $.trim($("form#frm1").find("[id='servicePrice']").val()),
                    'optionYn' : $.trim($("form#frm1").find("[id='optionYn']").val()),
                    'optionType' : $.trim($("form#frm1").find("[id='optionType']").val()),
                    'optionCnt' : $.trim($("form#frm1").find("[id='optionCnt']").val()),
                    'option1CheckYn' : $.trim($("form#frm1").find("[id='option1CheckYn']").val()),
                    'option2CheckYn' : $.trim($("form#frm1").find("[id='option2CheckYn']").val()),
                    'option3CheckYn' : $.trim($("form#frm1").find("[id='option3CheckYn']").val()),
                    'option4CheckYn' : $.trim($("form#frm1").find("[id='option4CheckYn']").val()),
                    'option5CheckYn' : $.trim($("form#frm1").find("[id='option5CheckYn']").val()),
                    'option1No' : $.trim($("form#frm1").find("[id='option1No']").val()),
                    'option2No' : $.trim($("form#frm1").find("[id='option2No']").val()),
                    'option3No' : $.trim($("form#frm1").find("[id='option3No']").val()),
                    'option4No' : $.trim($("form#frm1").find("[id='option4No']").val()),
                    'option5No' : $.trim($("form#frm1").find("[id='option5No']").val()),
                    'option1Price' : $.trim($("form#frm1").find("[id='option1Price']").val()),
                    'option2Price' : $.trim($("form#frm1").find("[id='option2Price']").val()),
                    'option3Price' : $.trim($("form#frm1").find("[id='option3Price']").val()),
                    'option4Price' : $.trim($("form#frm1").find("[id='option4Price']").val()),
                    'option5Price' : $.trim($("form#frm1").find("[id='option5Price']").val()),
                };
                $.ajax({
                    url : "/test/estimate/process",
                    type : "post",
                    dataType : "json",
                    data : dataVals,
                    success : function(data, status) {
                        var result = data.result;
                        if(status == "success") {
                            addHTML += "<li id='liPrice'><label><input type='hidden' id='pNo' name='pNo' value='" + result.serviceNo + "'/><input type='checkbox' id='srvcPayPrcChckBtn' name='checkBoxBtn' checked='checked'/><span></span><input type='text' id='rSrvcName' name='rSrvcName' value='" + basicSrvcName + "' readonly/></label>";
                            addHTML += "<ul class='mt5 mb15'><li>사용기간 " + getSelectedVal + "개월(+" + comma(getPriceVal) + "원)</li>";
                            addHTML += "<input type='hidden' id='pPrice' name='pPrice' value='"+ getPriceVal + "'/>";
                            addHTML += "<input type='hidden' id='payPrice' name='payPrice' value='"+ result.basicPayPrice + "'/>";
                            addHTML += "<input type='hidden' id='pDcPrice' name='pDcPrice' value='"+ result.dcPayPrice + "'/>";
                            addHTML += "<input type='hidden' id='useMonthCnt' name='useMonthCnt' value='"+ getSelectedVal +"'/>";
                            if (result.type == "gigan" || result.type == "fullgigan") {
                                addHTML += "<li><span class='green-dark'>연 결제 " + result.dc + "% 할인(-" + comma(result.dcPayPrice) + "원)</li>";
                            }
                            addHTML += "<li>합계 <span class='strong fontnum black'><input type='text' id='payPrice' name='servicePayPrice' value='" + comma(result.basicPayPrice) + "'/></span>원 &nbsp;<input type='image' src='../images/remove.png' id='delPrice' class='remove'/></li>";
                            addHTML += "</ul></li>";
                            // sumDiv에 HTML 넣기.
                            $("#resultDiv > ul").append(addHTML);
                        }
                    },
                    error : function(err) {
                        alert("errCode : " + err);
                    }});
            });
            $("#sbBtn2").on("click", function(e) {
                e.preventDefault();
                var addHTML = "";

                var dataVals = {
                    'serviceNo' : $.trim($("form#frm2").find("[id='serviceNo']").val()),
                    'servicePrice' : $.trim($("form#frm2").find("[id='useGiganMonth']").val()),
                    'useGiganMonth' : $.trim($("form#frm2").find("[id='servicePrice']").val()),
                    'optionYn' : $.trim($("form#frm2").find("[id='optionYn']").val()),
                    'optionType' : $.trim($("form#frm2").find("[id='optionType']").val()),
                    'optionCnt' : $.trim($("form#frm2").find("[id='optionCnt']").val()),
                    'option1CheckYn' : $.trim($("form#frm2").find("[id='option1CheckYn']").val()),
                    'option2CheckYn' : $.trim($("form#frm2").find("[id='option2CheckYn']").val()),
                    'option3CheckYn' : $.trim($("form#frm2").find("[id='option3CheckYn']").val()),
                    'option4CheckYn' : $.trim($("form#frm2").find("[id='option4CheckYn']").val()),
                    'option5CheckYn' : $.trim($("form#frm2").find("[id='option5CheckYn']").val()),
                    'option1No' : $.trim($("form#frm2").find("[id='option1No']").val()),
                    'option2No' : $.trim($("form#frm2").find("[id='option2No']").val()),
                    'option3No' : $.trim($("form#frm2").find("[id='option3No']").val()),
                    'option4No' : $.trim($("form#frm2").find("[id='option4No']").val()),
                    'option5No' : $.trim($("form#frm2").find("[id='option5No']").val()),
                    'option1Price' : $.trim($("form#frm2").find("[id='option1Price']").val()),
                    'option2Price' : $.trim($("form#frm2").find("[id='option2Price']").val()),
                    'option3Price' : $.trim($("form#frm2").find("[id='option3Price']").val()),
                    'option4Price' : $.trim($("form#frm2").find("[id='option4Price']").val()),
                    'option5Price' : $.trim($("form#frm2").find("[id='option5Price']").val()),
                };
                $.ajax({
                    url : "/test/estimate/process",
                    type : "post",
                    dataType : "json",
                    data : dataVals,
                    success : function(data) {
                        var result = data.result;
                        if(data.result == "OK") {
                            addHTML += "<li id='liPrice'><label><input type='hidden' id='pNo' name='pNo' value='" + result.serviceNo + "'/><input type='checkbox' id='srvcPayPrcChckBtn' name='checkBoxBtn' checked='checked'/><span></span><input type='text' id='rSrvcName' name='rSrvcName' value='" + basicSrvcName + "' readonly/></label>";
                            addHTML += "<ul class='mt5 mb15'><li>사용기간 " + getSelectedVal + "개월(+" + comma(getPriceVal) + "원)</li>";
                            addHTML += "<input type='hidden' id='pPrice' name='pPrice' value='"+ getPriceVal + "'/>";
                            addHTML += "<input type='hidden' id='payPrice' name='payPrice' value='"+ result.basicPayPrice + "'/>";
                            addHTML += "<input type='hidden' id='pDcPrice' name='pDcPrice' value='"+ result.dcPayPrice + "'/>";
                            addHTML += "<input type='hidden' id='useMonthCnt' name='useMonthCnt' value='"+ getSelectedVal +"'/>";
                            if (result.type == "gigan" || result.type == "fullgigan") {
                                addHTML += "<li><span class='green-dark'>연 결제 " + result.dc + "% 할인(-" + comma(result.dcPayPrice) + "원)</li>";
                            }
                            addHTML += "<li>합계 <span class='strong fontnum black'><input type='text' id='payPrice' name='servicePayPrice' value='" + comma(result.basicPayPrice) + "'/></span>원 &nbsp;<input type='image' src='../images/remove.png' id='delPrice' class='remove'/></li>";
                            addHTML += "</ul></li>";
                            // sumDiv에 HTML 넣기.
                            $("#resultDiv > ul").append(addHTML);
                        }
                    },
                    error : function(err) {
                        alert("errCode : " + err);
                    }});
            });
            $("#sbBtn3").on("click", function(e) {
                var addHTML = "";

                var dataVals = {
                    'serviceNo' : $.trim($("form#frm3").find("[id='serviceNo']").val()),
                    'servicePrice' : $.trim($("form#frm3").find("[id='useGiganMonth']").val()),
                    'useGiganMonth' : $.trim($("form#frm3").find("[id='servicePrice']").val()),
                    'optionYn' : $.trim($("form#frm3").find("[id='optionYn']").val()),
                    'optionType' : $.trim($("form#frm3").find("[id='optionType']").val()),
                    'optionCnt' : $.trim($("form#frm3").find("[id='optionCnt']").val()),
                    'option1CheckYn' : $.trim($("form#frm3").find("[id='option1CheckYn']").val()),
                    'option2CheckYn' : $.trim($("form#frm3").find("[id='option2CheckYn']").val()),
                    'option3CheckYn' : $.trim($("form#frm3").find("[id='option3CheckYn']").val()),
                    'option4CheckYn' : $.trim($("form#frm3").find("[id='option4CheckYn']").val()),
                    'option5CheckYn' : $.trim($("form#frm3").find("[id='option5CheckYn']").val()),
                    'option1No' : $.trim($("form#frm3").find("[id='option1No']").val()),
                    'option2No' : $.trim($("form#frm3").find("[id='option2No']").val()),
                    'option3No' : $.trim($("form#frm3").find("[id='option3No']").val()),
                    'option4No' : $.trim($("form#frm3").find("[id='option4No']").val()),
                    'option5No' : $.trim($("form#frm3").find("[id='option5No']").val()),
                    'option1Price' : $.trim($("form#frm3").find("[id='option1Price']").val()),
                    'option2Price' : $.trim($("form#frm3").find("[id='option2Price']").val()),
                    'option3Price' : $.trim($("form#frm3").find("[id='option3Price']").val()),
                    'option4Price' : $.trim($("form#frm3").find("[id='option4Price']").val()),
                    'option5Price' : $.trim($("form#frm3").find("[id='option5Price']").val()),
                };
                $.ajax({
                    url : "/test/estimate/process",
                    type : "post",
                    dataType : "json",
                    data : dataVals,
                    success : function(data) {
                        var result = data.result;
                        if(data.result == "OK") {
                            addHTML += "<li id='liPrice'><label><input type='hidden' id='pNo' name='pNo' value='" + result.serviceNo + "'/><input type='checkbox' id='srvcPayPrcChckBtn' name='checkBoxBtn' checked='checked'/><span></span><input type='text' id='rSrvcName' name='rSrvcName' value='" + basicSrvcName + "' readonly/></label>";
                            addHTML += "<ul class='mt5 mb15'><li>사용기간 " + getSelectedVal + "개월(+" + comma(getPriceVal) + "원)</li>";
                            addHTML += "<input type='hidden' id='pPrice' name='pPrice' value='"+ getPriceVal + "'/>";
                            addHTML += "<input type='hidden' id='payPrice' name='payPrice' value='"+ result.basicPayPrice + "'/>";
                            addHTML += "<input type='hidden' id='pDcPrice' name='pDcPrice' value='"+ result.dcPayPrice + "'/>";
                            addHTML += "<input type='hidden' id='useMonthCnt' name='useMonthCnt' value='"+ getSelectedVal +"'/>";
                            if (result.type == "gigan" || result.type == "fullgigan") {
                                addHTML += "<li><span class='green-dark'>연 결제 " + result.dc + "% 할인(-" + comma(result.dcPayPrice) + "원)</li>";
                            }
                            addHTML += "<li>합계 <span class='strong fontnum black'><input type='text' id='payPrice' name='servicePayPrice' value='" + comma(result.basicPayPrice) + "'/></span>원 &nbsp;<input type='image' src='../images/remove.png' id='delPrice' class='remove'/></li>";
                            addHTML += "</ul></li>";
                            // sumDiv에 HTML 넣기.
                            $("#resultDiv > ul").append(addHTML);
                        }
                    },
                    error : function(err) {
                        alert("errCode : " + err);
                    }});
            });
            $("#sbBtn4").on("click", function(e) {
                var addHTML = "";

                var dataVals = {
                    'serviceNo' : $.trim($("form#frm4").find("[id='serviceNo']").val()),
                    'servicePrice' : $.trim($("form#frm4").find("[id='useGiganMonth']").val()),
                    'useGiganMonth' : $.trim($("form#frm4").find("[id='servicePrice']").val()),
                    'optionYn' : $.trim($("form#frm4").find("[id='optionYn']").val()),
                    'optionType' : $.trim($("form#frm4").find("[id='optionType']").val()),
                    'optionCnt' : $.trim($("form#frm4").find("[id='optionCnt']").val()),
                    'option1CheckYn' : $.trim($("form#frm4").find("[id='option1CheckYn']").val()),
                    'option2CheckYn' : $.trim($("form#frm4").find("[id='option2CheckYn']").val()),
                    'option3CheckYn' : $.trim($("form#frm4").find("[id='option3CheckYn']").val()),
                    'option4CheckYn' : $.trim($("form#frm4").find("[id='option4CheckYn']").val()),
                    'option5CheckYn' : $.trim($("form#frm4").find("[id='option5CheckYn']").val()),
                    'option1No' : $.trim($("form#frm4").find("[id='option1No']").val()),
                    'option2No' : $.trim($("form#frm4").find("[id='option2No']").val()),
                    'option3No' : $.trim($("form#frm4").find("[id='option3No']").val()),
                    'option4No' : $.trim($("form#frm4").find("[id='option4No']").val()),
                    'option5No' : $.trim($("form#frm4").find("[id='option5No']").val()),
                    'option1Price' : $.trim($("form#frm4").find("[id='option1Price']").val()),
                    'option2Price' : $.trim($("form#frm4").find("[id='option2Price']").val()),
                    'option3Price' : $.trim($("form#frm4").find("[id='option3Price']").val()),
                    'option4Price' : $.trim($("form#frm4").find("[id='option4Price']").val()),
                    'option5Price' : $.trim($("form#frm4").find("[id='option5Price']").val()),
                };
                $.ajax({
                    url : "/test/estimate/process",
                    type : "post",
                    dataType : "json",
                    data : dataVals,
                    success : function(data) {
                        var result = data.result;
                        if(data.result == "OK") {
                            addHTML += "<li id='liPrice'><label><input type='hidden' id='pNo' name='pNo' value='" + result.serviceNo + "'/><input type='checkbox' id='srvcPayPrcChckBtn' name='checkBoxBtn' checked='checked'/><span></span><input type='text' id='rSrvcName' name='rSrvcName' value='" + basicSrvcName + "' readonly/></label>";
                            addHTML += "<ul class='mt5 mb15'><li>사용기간 " + getSelectedVal + "개월(+" + comma(getPriceVal) + "원)</li>";
                            addHTML += "<input type='hidden' id='pPrice' name='pPrice' value='"+ getPriceVal + "'/>";
                            addHTML += "<input type='hidden' id='payPrice' name='payPrice' value='"+ result.basicPayPrice + "'/>";
                            addHTML += "<input type='hidden' id='pDcPrice' name='pDcPrice' value='"+ result.dcPayPrice + "'/>";
                            addHTML += "<input type='hidden' id='useMonthCnt' name='useMonthCnt' value='"+ getSelectedVal +"'/>";
                            if (result.type == "gigan" || result.type == "fullgigan") {
                                addHTML += "<li><span class='green-dark'>연 결제 " + result.dc + "% 할인(-" + comma(result.dcPayPrice) + "원)</li>";
                            }
                            addHTML += "<li>합계 <span class='strong fontnum black'><input type='text' id='payPrice' name='servicePayPrice' value='" + comma(result.basicPayPrice) + "'/></span>원 &nbsp;<input type='image' src='../images/remove.png' id='delPrice' class='remove'/></li>";
                            addHTML += "</ul></li>";
                            // sumDiv에 HTML 넣기.
                            $("#resultDiv > ul").append(addHTML);
                        }
                    },
                    error : function(err) {
                        alert("errCode : " + err);
                    }});
            });
            $("#sbBtn5").on("click", function(e) {
                var addHTML = "";

                var dataVals = {
                    'serviceNo' : $.trim($("form#frm5").find("[id='serviceNo']").val()),
                    'servicePrice' : $.trim($("form#frm5").find("[id='useGiganMonth']").val()),
                    'useGiganMonth' : $.trim($("form#frm5").find("[id='servicePrice']").val()),
                    'optionYn' : $.trim($("form#frm5").find("[id='optionYn']").val()),
                    'optionType' : $.trim($("form#frm5").find("[id='optionType']").val()),
                    'optionCnt' : $.trim($("form#frm5").find("[id='optionCnt']").val()),
                    'option1CheckYn' : $.trim($("form#frm5").find("[id='option1CheckYn']").val()),
                    'option2CheckYn' : $.trim($("form#frm5").find("[id='option2CheckYn']").val()),
                    'option3CheckYn' : $.trim($("form#frm5").find("[id='option3CheckYn']").val()),
                    'option4CheckYn' : $.trim($("form#frm5").find("[id='option4CheckYn']").val()),
                    'option5CheckYn' : $.trim($("form#frm5").find("[id='option5CheckYn']").val()),
                    'option1No' : $.trim($("form#frm5").find("[id='option1No']").val()),
                    'option2No' : $.trim($("form#frm5").find("[id='option2No']").val()),
                    'option3No' : $.trim($("form#frm5").find("[id='option3No']").val()),
                    'option4No' : $.trim($("form#frm5").find("[id='option4No']").val()),
                    'option5No' : $.trim($("form#frm5").find("[id='option5No']").val()),
                    'option1Price' : $.trim($("form#frm5").find("[id='option1Price']").val()),
                    'option2Price' : $.trim($("form#frm5").find("[id='option2Price']").val()),
                    'option3Price' : $.trim($("form#frm5").find("[id='option3Price']").val()),
                    'option4Price' : $.trim($("form#frm5").find("[id='option4Price']").val()),
                    'option5Price' : $.trim($("form#frm5").find("[id='option5Price']").val()),
                };
                $.ajax({
                    url : "/test/estimate/process",
                    type : "post",
                    dataType : "json",
                    data : dataVals,
                    success : function(data) {
                        var result = data.result;
                        if(data.result == "OK") {
                            addHTML += "<li id='liPrice'><label><input type='hidden' id='pNo' name='pNo' value='" + result.serviceNo + "'/><input type='checkbox' id='srvcPayPrcChckBtn' name='checkBoxBtn' checked='checked'/><span></span><input type='text' id='rSrvcName' name='rSrvcName' value='" + basicSrvcName + "' readonly/></label>";
                            addHTML += "<ul class='mt5 mb15'><li>사용기간 " + getSelectedVal + "개월(+" + comma(getPriceVal) + "원)</li>";
                            addHTML += "<input type='hidden' id='pPrice' name='pPrice' value='"+ getPriceVal + "'/>";
                            addHTML += "<input type='hidden' id='payPrice' name='payPrice' value='"+ result.basicPayPrice + "'/>";
                            addHTML += "<input type='hidden' id='pDcPrice' name='pDcPrice' value='"+ result.dcPayPrice + "'/>";
                            addHTML += "<input type='hidden' id='useMonthCnt' name='useMonthCnt' value='"+ getSelectedVal +"'/>";
                            if (result.type == "gigan" || result.type == "fullgigan") {
                                addHTML += "<li><span class='green-dark'>연 결제 " + result.dc + "% 할인(-" + comma(result.dcPayPrice) + "원)</li>";
                            }
                            addHTML += "<li>합계 <span class='strong fontnum black'><input type='text' id='payPrice' name='servicePayPrice' value='" + comma(result.basicPayPrice) + "'/></span>원 &nbsp;<input type='image' src='../images/remove.png' id='delPrice' class='remove'/></li>";
                            addHTML += "</ul></li>";
                            // sumDiv에 HTML 넣기.
                            $("#resultDiv > ul").append(addHTML);
                        }
                    },
                    error : function(err) {
                        alert("errCode : " + err);
                    }});
            });

            // 저장 처리.
            $("#save1Btn").on("click", function(e) {
                e.preventDefault();

                var dataVals = {
                    payNo : $("#payNo").val(),
                    cNo : $("#cNo").val(),
                    pNo : $("#pNo").val(),
                    pName : $("#pName").val(),
                    pPrice : $("#pPrice").val(),
                    fromDt : $("#fromDt").val(),
                    toDt : $("#toDt").val(),
                    payDateType : $("#payDateType").val(),
                    useMonthCnt : $("#useMonthCnt").val(),
                    optUseCnt : $("#optUseCnt").val(),
                    opt1UseYn : $("#opt1UseYn").val(),
                    opt2UseYn : $("#opt2UseYn").val(),
                    opt3UseYn : $("#opt3UseYn").val(),
                    opt4UseYn : $("#opt4UseYn").val(),
                    opt5UseYn : $("#opt5UseYn").val(),
                    payPrice : $("#payPrice").val(),
                    payMethod : $("#payMethod").val(),
                    payDate : $("#payDate").val(),
                    payResult : $("#payResult").val(),
                    expireYn : $("#expireYn").val()
                };

                $.ajax({
                url : "/test/estimate/save1",
                type : "post",
                dataType : "json",
                data : dataVals,
                success : function(response, status, request) {
                    console.log('response : ', response);
                    console.log('status : ', status);
                    if(status == "success") {
                        alert("저장처리되었습니다!");
                        location.reload();
                    }
                },
                error : function(err) {
                    alert("errCode : " + err);
                }});
            });
            // 삭제 처리.
            $("#del1Btn").on("click", function(e) {
                e.preventDefault();

                var dataVals = {
                    payNo : $("#payNo").val(),
                    cNo : $("#cNo").val(),
                    pNo : $("#pNo").val(),
                };

                $.ajax({
                    url : "/test/estimate/delete1",
                    type : "post",
                    dataType : "json",
                    data : dataVals,
                    success : function(response, status, request) {
                        console.log('response : ', response);
                        console.log('status : ', status);
                        if(status == "success") {
                            alert("삭제처리되었습니다!");
                            location.reload();
                        }
                    },
                    error : function(err) {
                        alert("errCode : " + err);
                    }});
            });
            // 저장 처리.
            $("#save2Btn").on("click", function(e) {
                e.preventDefault();

                var dataVals = {
                    payNo : $("#payNo").val(),
                    pNo : $("#pNo").val(),
                    optNo : $("#optNo").val(),
                    optName : $("#optName").val(),
                    optGigan : $("#optGigan").val(),
                    optFrom : $("#toDt").val(),
                    optTo : $("#payDateType").val(),
                    optPayPrice : $("#optPayPrice").val(),
                    optPayMethod : $("#optPayMethod").val(),
                    optPayDate : $("#optPayDate").val(),
                    optPayResult : $("#optPayResult").val()
                };

                $.ajax({
                    url : "/test/estimate/save2",
                    type : "post",
                    dataType : "json",
                    data : dataVals,
                    success : function(response, status, request) {
                        console.log('response : ', response);
                        console.log('status : ', status);
                        if(status == "success") {
                            alert("저장처리되었습니다!");
                            location.reload();
                        }
                    },
                    error : function(err) {
                        alert("errCode : " + JSON.stringify(err));
                    }});
            });
            // 삭제 처리.
            $("#del2Btn").on("click", function(e) {
                e.preventDefault();

                var dataVals = {
                    payNo : $("#payNo").val(),
                    pNo : $("#pNo").val()
                };

                $.ajax({
                    url : "/test/estimate/delete2",
                    type : "post",
                    dataType : "json",
                    data : dataVals,
                    success : function(response, status, request) {
                        console.log('response : ', response);
                        console.log('status : ', status);
                        if(status == "success") {
                            alert("삭제처리되었습니다!");
                            location.reload();
                        }
                    },
                    error : function(request, status, error) {
                        alert("errCode : " + error);
                    }});
            });


        });
    </script>
</body>
</html>